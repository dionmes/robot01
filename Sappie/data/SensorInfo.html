<!DOCTYPE html>
<html lang="en">
<head>
	<title>Welcome to Sappie - Your Robotic Assistant</title>
</head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="milligram.min.css">

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script>

function update_VL53L1X() {
	$.ajax({
		url: "/VL53L1X_Info",
		type: 'GET',
    	dataType: 'json',
    	async: false,
		error: function (xhr, status) {
			console.log(status);
		},
		success: function (result) {
			$( "#ph_distance" ).html( result.range_mm + " mm.");
			$( "#ph_ambient" ).html( result.ambient_count );
			$( "#ph_peak" ).html( result.peak_signal );
			$( "#ph_status" ).html( result.range_status );
		}
	});	
}

function update_BNO08X() {
	$.ajax({
		url: "/BNO08X_Info",
		type: 'GET',
    	dataType: 'json',
    	async: false,
		error: function (xhr, status) {
			console.log(status);
		},
		success: function (result) {
			$( "#geoMagRotationVector_real" ).html( result.geoMagRotationVector_real );
			$( "#geoMagRotationVector_i" ).html( result.geoMagRotationVector_i );
			$( "#geoMagRotationVector_j" ).html( result.geoMagRotationVector_j );
			$( "#geoMagRotationVector_k" ).html( result.geoMagRotationVector_k );
			$( "#accelerometer_x" ).html( result.accelerometer_x );
			$( "#accelerometer_y" ).html( result.accelerometer_y );
			$( "#accelerometer_z" ).html( result.accelerometer_z );
			$( "#gyroscope_x" ).html( result.gyroscope_x );
			$( "#gyroscope_y" ).html( result.gyroscope_y );
			$( "#gyroscope_z" ).html( result.gyroscope_z );
			$( "#stability" ).html( result.stability );
			$( "#shake" ).html( result.shake );

		}
	});	
}

setInterval("update_VL53L1X()",500);
setInterval("update_BNO08X()",500);

</script>

<body>
	<div>
		<div class="container">
			<div class="row">
				<div class="column">
					<h1 class="centered">Sappie Sensor info</h1>
				</div>
				<div class="column">
					<a class="button button-outline" href='index.html'>Back</a>
				</div>
			</div>
		</div>
		<br>
		<div class="container">
			  <div class="row">
		 <div class="column  column-50 ">
	
			<div class="container">
			  <h2> Distance sensor (VL53L1X)</h2>
			  <div class="row">
				<div class="column">Distance</div>
				<div class="column" id='ph_distance'></div>
			  </div>
			  <div class="row">
				<div class="column">Ambient</div>
				<div class="column" id='ph_ambient'></div>
			  </div>
			  <div class="row">
				<div class="column">Peak signal</div>
				<div class="column" id='ph_peak'></div>
			  </div>
			  <div class="row">
				<div class="column">Status</div>
				<div class="column" id='ph_status'></div>
			  </div>
			</div>
		</div>		
		<div class="column column-50">
			<div class="container">
			  <h2> Gyro sensor (BNO08X)</h2>
			  <div class="row">
				<div class="column">Shake</div>
				<div class="column" id='shake'></div>
			  </div>
			  <div class="row">
				<div class="column  ">Stability</div>
				<div class="column" id='stability'></div>
			  </div>
			  <div class="row">
				  <br>
			  </div>
			  <div class="row">
				<div class="column  ">GEO Mag. Rot. vector real</div>
				<div class="column" id='geoMagRotationVector_real'></div>
			  </div>
			  <div class="row">
				<div class="column  ">GEO Mag. Rot. vector i</div>
				<div class="column" id='geoMagRotationVector_i'></div>
			  </div>
			  <div class="row">
				<div class="column  ">GEO Mag. Rot. vector j</div>
				<div class="column" id='geoMagRotationVector_j'></div>
			  </div>
			  <div class="row">
				<div class="column  ">GEO Mag. Rot. vector k</div>
				<div class="column" id='geoMagRotationVector_k'></div>
			  </div>
			  <div class="row">
				  <br>
			  </div>
			  <div class="row">
				<div class="column  ">Accelerometer x</div>
				<div class="column" id='accelerometer_x'></div>
			  </div>
			  <div class="row">
				<div class="column  ">Accelerometer y</div>
				<div class="column" id='accelerometer_y'></div>
			  </div>
			  <div class="row">
				<div class="column  ">Accelerometer z</div>
				<div class="column" id='accelerometer_z'></div>
			  </div>
			  <div class="row">
				  <br>
			  </div>
			  <div class="row">
				<div class="column  ">Gyroscope x</div>
				<div class="column" id='gyroscope_x'></div>
			  </div>
			  <div class="row">
				<div class="column  ">Gyroscope y</div>
				<div class="column" id='gyroscope_y'></div>
			  </div>
			  <div class="row">
				<div class="column  ">Gyroscope z</div>
				<div class="column" id='gyroscope_z'></div>
			  </div>
			</div>
		</div>
		</div>
	 </div>
	</div>
	<br>
	<br>
	<br>
</div>

</body>
</html>
