<!DOCTYPE html>
<html lang="en">
<head>
	<title>Welcome to robot01 - Your Robotic Assistant</title>
</head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="pico.indigo.min.css">

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script>

function volume() {
	$("#progress-audio").show();
	var volume = $("#volume").val();

	$.ajax({
		url: "/volume?power=" + volume,
		type: 'GET',
    	dataType: 'text',
    	async: false})
    .done(function (result) {
		$("#progress-audio").hide();
		})
    .fail(function (xhr, status) {
 		$("#progress-audio").hide();
   })
    .always(function() {
		console.log(status);
    });
}


function audio_control(on) {
	$("#progress-audio").show();
	$.ajax({
		url: "/audiostream?on=" + on,
		type: 'GET',
    	dataType: 'text',
    	async: false})
    .done(function (result) {
		$("#progress-audio").hide();
		})
    .fail(function (xhr, status) {
      $( "#audiostream_result" ).html( status );
 		$("#progress-audio").hide();
   })
    .always(function() {
		console.log(status);
    });
}

function bodyaction(action, direction) {
	/**
	  LEFTUPPERARM = 1,
	  RIGHTUPPERARM = 2,
	  LEFTLOWERARM = 3,
	  RIGHTLOWERARM = 4,
	  LEFTLEG = 5,
	  RIGHTLEG = 6,
	  HIP = 7,
	  LEFTHANDLIGHT = 8,
	  RIGHTHANDLIGHT = 9,
	  TURN = 10,
	**/
	var url = "/bodyaction?action=" + action + "&direction=" + direction + "&duration=" + $("#moveduration").val(); 	
	$.ajax({
		url: url,
		type: 'GET',
    	dataType: 'text',
    	async: false})
    	.done(function (result) {
		})
		.fail(function (xhr, status) {
		})
		.always(function() {
		  console.log(status);
		});
}

function bodytest() {
	$.ajax({
		url: "/bodyaction",
		type: 'GET',
    	dataType: 'text',
    	async: false})
    	.done(function (result) {
		})
		.fail(function (xhr, status) {
			console.log(status);
		})
		.always(function() {
		});
}

</script>

<body>
<div class="container">
	<div class="container-fluid">
		<progress id="progress-audio" style="display:none"></progress>
	</div>
	<label>
  	Volume
  	<input id="volume" type="range" onchange="volume();" min="0" max="6" value="2" step="1"/>
	</label>
	<div role="group">
		<button id="startaudio" onClick="audio_control('1');">Start UDP audio receive</button>
		<button id="stopaudio"  onClick="audio_control('0');">Stop UDP audio receive</button>
	</div>
	<div class="column column-25" id="audiostream_result"></div>

	<button class="outline" onClick="bodytest();">Body test</button>
	<br>
	<br>
    <div role="group">
		<button class="secondary" onClick="bodyaction(9,1);" >Left hand light on</button>
		<button class="secondary" onClick="bodyaction(9,0);" >Left hand light off</button>
		<button class="secondary" onClick="bodyaction(8,1);">Right hand light on</button>
		<button class="secondary" onClick="bodyaction(8,0);">Right hand light off</button>
	</div>
	<br>
	<div role="group">
		<button class="outline" onClick="bodyaction(10,1);" >Turn left</button>
		<button class="outline" onClick="bodyaction(10,0);" >Turn right</button>
	</div>
	<br>

	<form>
	  <label for="moveduration">Move duration between 10-2000</label>
	  <input type="number" id="moveduration" name="quantity" min="10" max="2000" value="1000">
	</form>

    <div role="group">
		<button onClick="bodyaction(1,1);" >Left upper arm up</button>
		<button onClick="bodyaction(1,0);" >Left upper arm down</button>
		<button onClick="bodyaction(2,1);">Right upper arm up</button>
		<button onClick="bodyaction(2,0);">Right upper arm down</button>
	</div>
	<br>
    <div role="group">
		<button onClick="bodyaction(3,1);">Left lower arm up</button>
		<button onClick="bodyaction(3,0);">Left lower arm down</button>
		<button onClick="bodyaction(4,1);">Right lower arm up</button>
		<button onClick="bodyaction(4,0);">Right lower arm down</button>
	</div>
	<br>
    <div role="group">
		<button class="outline" onClick="bodyaction(7,0);">Hip left</button>
		<button class="outline" onClick="bodyaction(7,1);">Hip right</button>
	</div>

    <div role="group">
		<button onClick="bodyaction(5,1);">Left leg forward</button>
		<button onClick="bodyaction(5,0);">Left leg backward</button>
		<button onClick="bodyaction(6,1);">Right leg forward</button>
		<button onClick="bodyaction(6,0);">Right leg backward</button>
	</div>

</div>

</body>
</html>
